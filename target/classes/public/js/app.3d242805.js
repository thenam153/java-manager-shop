(function(e){function t(t){for(var o,r,c=t[0],s=t[1],l=t[2],u=0,h=[];u<c.length;u++)r=c[u],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&h.push(a[r][0]),a[r]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);d&&d(t);while(h.length)h.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],o=!0,c=1;c<n.length;c++){var s=n[c];0!==a[s]&&(o=!1)}o&&(i.splice(t--,1),e=r(r.s=n[0]))}return e}var o={},a={app:0},i=[];function r(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=o,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var d=s;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var o=n("85ec"),a=n.n(o);a.a},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[e.$store.state.login?n("div",{attrs:{id:"nav"}},[n("router-link",{attrs:{to:"/san-pham"}},[e._v("Sản phẩm")]),e._v(" | "),n("router-link",{attrs:{to:"/khach-hang"}},[e._v("Khách hàng")]),n("router-link",{attrs:{to:"/cung-cap"}},[e._v("Nhà cung cấp")]),n("router-link",{attrs:{to:"/tao-giao-dich"}},[e._v("Tạo đơn hàng")]),n("router-link",{attrs:{to:"/nhan-vien"}},[e._v("Nhân viên")]),n("router-link",{attrs:{to:"/giao-dich"}},[e._v("Chi tiết giao dịch")])],1):e._e(),e.$store.state.login?n("div",[n("button",{on:{click:function(t){e.$store.dispatch("rejectLogin"),e.$store.commit("setId",-1),e.$router.push("/dang-nhap")}}},[e._v(" Đăng xuất ")])]):e._e(),n("router-view")],1)},i=[],r=(n("034f"),n("2877")),c={},s=Object(r["a"])(c,a,i,!1,null,null,null),l=s.exports,d=n("8c4f"),u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v(" "+e._s(e.title)+" "),n("form",[n("label",[n("span",[e._v(" Tên sản phẩm: ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],attrs:{type:"text"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}})]),n("label",[n("span",[e._v(" Giá: ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.price,expression:"price"}],attrs:{type:"text"},domProps:{value:e.price},on:{input:function(t){t.target.composing||(e.price=t.target.value)}}})]),n("label",[n("span",[e._v(" Số lượng: ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.quantily,expression:"quantily"}],attrs:{type:"text"},domProps:{value:e.quantily},on:{input:function(t){t.target.composing||(e.quantily=t.target.value)}}})]),n("label",[n("span",[e._v(" Chi tiết: ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.description,expression:"description"}],attrs:{type:"text"},domProps:{value:e.description},on:{input:function(t){t.target.composing||(e.description=t.target.value)}}})]),n("label",[n("span",[e._v(" Nhà cung cấp: ")]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.idProvider,expression:"idProvider"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.idProvider=t.target.multiple?n:n[0]}}},e._l(e.providers,(function(t){return n("option",{key:t.id,domProps:{value:t.id}},[e._v(" "+e._s(decodeURI(t.name))+" ")])})),0)]),n("button",{on:{click:function(t){return t.preventDefault(),e.submitData(t)}}},[e._v(" Tạo thông tin sản phẩm ")])]),n("div",[n("button",{on:{click:e.clickSave}},[e._v("Save Change")]),n("button",{on:{click:e.clickReset}},[e._v("Reset")]),n("button",{on:{click:e.clickDelete}},[e._v("Delete")])]),n("div",{staticStyle:{width:"800px"}},[n("vue-table-dynamic",{ref:"table",attrs:{params:e.table},on:{"cell-change":e.onCellChange}})],1)])},h=[],p=(n("a4d3"),n("e01a"),n("99af"),n("7db0"),n("d81d"),n("b0c0"),n("b64b"),n("d3b7"),n("ddb0"),n("2909")),m=n("bc3a"),v=n.n(m),f=n("2f24"),g={name:"Product",props:["title"],data:function(){return{name:"",price:0,quantily:0,description:"",idProvider:null,providers:[],product:null,header:["STT","Sản phẩm","Giá","Số lượng","Chi tiết","Nhà cung cấp"],keys:["name","price","quantily","description"],table:{data:[],header:"row",border:!0,stripe:!0,showCheck:!0,enableSearch:!0,pagination:!0,pageSize:10,pageSizes:[10,20,50],edit:{column:[1,2,3,4]}},change:{}}},created:function(){var e=this;v()({method:"post",url:"http://localhost:1503/get/cung-cap"}).then((function(t){console.log(t),e.providers=t.data,v()({method:"post",url:"http://localhost:1503/get/san-pham"}).then((function(t){console.log(t),e.product=t.data}))}))},methods:{submitData:function(){var e=this;v()({method:"post",url:"http://localhost:1503/create/san-pham",headers:{"Access-Control-Allow-Origin":"*"},data:{name:encodeURI(this.name),price:encodeURI(this.price),quantily:encodeURI(this.quantily),description:encodeURI(this.description),idProvider:encodeURI(this.idProvider),idEmployee:this.$store.state.id}}).then((function(t){console.log(t),e.product.push(t.data),e.name="",e.price=0,e.quantily=0,e.description=""})).catch((function(e){console.log(e)}))},onCellChange:function(e,t,n){this.change[e]=Object.assign({},this.product[e-1]),this.change[e][this.keys[t-1]]=n},clickSave:function(){var e=this;f["a"].each(this.change,(function(e,t){v()({method:"post",url:"http://localhost:1503/edit/san-pham",headers:{"Access-Control-Allow-Origin":"*"},data:b(e)}).then((function(){})).catch((function(e){console.log(e)})).finally((function(){t()}))}),(function(t){console.log(t),e.change={}}))},clickReset:function(){var e=this,t=(this.product||[]).map((function(t,n){var o=(e.providers||[]).find((function(e){return e.id==t.idProvider}));return console.log(o),[n+1,decodeURI(t.name),decodeURI(t.price),decodeURI(t.quantily),decodeURI(t.description),decodeURI((o||{}).name||t.idProvider)]}));this.table.data=[this.header].concat(Object(p["a"])(t)),this.index={}},clickDelete:function(){var e=this;console.log("delete",this.$refs.table.getCheckedRowDatas(!0));var t=this.product;f["a"].eachOf(this.$refs.table.getCheckedRowDatas(!0),(function(e,n,o){if(0==n)return o();v()({method:"post",url:"http://localhost:1503/delete/san-pham",headers:{"Access-Control-Allow-Origin":"*"},data:{id:t[e[0]-1].id}}).then((function(){})).catch((function(e){console.log(e)})).finally((function(){o()}))}),(function(){e.change={},v()({method:"post",url:"http://localhost:1503/get/san-pham"}).then((function(t){console.log(t),e.product=t.data}))}))}},watch:{product:function(){var e=this,t=(this.product||[]).map((function(t,n){var o=(e.providers||[]).find((function(e){return e.id==t.idProvider}));return console.log(o),[n+1,decodeURI(t.name),decodeURI(t.price),decodeURI(t.quantily),decodeURI(t.description),decodeURI((o||{}).name||t.idProvider)]}));this.table.data=[this.header].concat(Object(p["a"])(t))}}};function b(e){for(var t=Object.assign({},e),n=0,o=Object.keys(t);n<o.length;n++){var a=o[n];"listResult"!==a&&"updateat"!==a&&"createat"!==a&&(t[a]=encodeURI(t[a]))}return t}var y=g,_=Object(r["a"])(y,u,h,!1,null,null,null),w=_.exports,k=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v(" "+e._s(e.title)+" "),n("div",[n("form",[n("label",[n("span",[e._v(" Họ và tên: ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],attrs:{type:"text"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}})]),n("label",[n("span",[e._v(" Ngày sinh: ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.birthday,expression:"birthday"}],attrs:{type:"text"},domProps:{value:e.birthday},on:{input:function(t){t.target.composing||(e.birthday=t.target.value)}}})]),n("label",[n("span",[e._v(" Số điện thoại: ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.phone,expression:"phone"}],attrs:{type:"text"},domProps:{value:e.phone},on:{input:function(t){t.target.composing||(e.phone=t.target.value)}}})]),n("button",{on:{click:function(t){return t.preventDefault(),e.submitData(t)}}},[e._v(" Tạo thông tin khách hàng ")])])]),n("div",[n("button",{on:{click:e.clickSave}},[e._v("Save Change")]),n("button",{on:{click:e.clickReset}},[e._v("Reset")]),n("button",{on:{click:e.clickDelete}},[e._v("Delete")])]),n("div",{staticStyle:{width:"600px"}},[n("vue-table-dynamic",{ref:"table",attrs:{params:e.table},on:{"cell-change":e.onCellChange}})],1)])},R=[],I={name:"Customer",props:["title"],data:function(){return{name:"",birthday:"",phone:"",customer:null,header:["STT","Họ và tên","Ngày sinh","Số điện thoại"],keys:["name","dateofbirth","phone"],table:{data:[],header:"row",border:!0,stripe:!0,showCheck:!0,enableSearch:!0,pagination:!0,pageSize:10,pageSizes:[10,20,50],edit:{column:[1,2,3]}},change:{}}},created:function(){var e=this;v()({method:"post",url:"http://localhost:1503/get/khach-hang"}).then((function(t){console.log(t),e.customer=t.data}))},methods:{submitData:function(){var e=this;v()({method:"post",url:"http://localhost:1503/create/khach-hang",headers:{"Access-Control-Allow-Origin":"*"},data:{name:encodeURI(this.name),dateofbirth:encodeURI(this.birthday),phone:encodeURI(this.phone)}}).then((function(t){e.customer.push(t.data),e.name="",e.birthday="",e.phone=""})).catch((function(e){console.log(e)}))},onCellChange:function(e,t,n){this.change[e]=Object.assign({},this.customer[e-1]),this.change[e][this.keys[t-1]]=n},clickSave:function(){var e=this;f["a"].each(this.change,(function(e,t){v()({method:"post",url:"http://localhost:1503/edit/khach-hang",headers:{"Access-Control-Allow-Origin":"*"},data:P(e)}).then((function(){})).catch((function(e){console.log(e)})).finally((function(){t()}))}),(function(t){console.log(t),e.change={}}))},clickReset:function(){var e=(this.customer||[]).map((function(e,t){return[t+1,decodeURI(e.name),decodeURI(e.dateofbirth),decodeURI(e.phone)]}));this.table.data=[this.header].concat(Object(p["a"])(e)),this.index={}},clickDelete:function(){var e=this;console.log("delete",this.$refs.table.getCheckedRowDatas(!0));var t=this.customer;f["a"].eachOf(this.$refs.table.getCheckedRowDatas(!0),(function(e,n,o){if(0==n)return o();v()({method:"post",url:"http://localhost:1503/delete/khach-hang",headers:{"Access-Control-Allow-Origin":"*"},data:{id:t[e[0]-1].id}}).then((function(){})).catch((function(e){console.log(e)})).finally((function(){o()}))}),(function(){e.change={},v()({method:"post",url:"http://localhost:1503/get/khach-hang"}).then((function(t){console.log(t),e.customer=t.data}))}))}},watch:{customer:function(){var e=(this.customer||[]).map((function(e,t){return[t+1,decodeURI(e.name),decodeURI(e.dateofbirth),decodeURI(e.phone)]}));this.table.data=[this.header].concat(Object(p["a"])(e))}}};function P(e){for(var t=Object.assign({},e),n=0,o=Object.keys(t);n<o.length;n++){var a=o[n];"listResult"!==a&&(t[a]=encodeURI(t[a]))}return t}var C=I,U=Object(r["a"])(C,k,R,!1,null,null,null),S=U.exports,x=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v(" "+e._s(e.title)+" "),n("div",[n("form",[n("label",[n("span",[e._v(" Họ và tên: ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],attrs:{type:"text"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}})]),n("label",[n("span",[e._v(" Ngày sinh: ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.dateofbirth,expression:"dateofbirth"}],attrs:{type:"text"},domProps:{value:e.dateofbirth},on:{input:function(t){t.target.composing||(e.dateofbirth=t.target.value)}}})]),n("label",[n("span",[e._v(" Số điện thoại: ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.phone,expression:"phone"}],attrs:{type:"text"},domProps:{value:e.phone},on:{input:function(t){t.target.composing||(e.phone=t.target.value)}}})]),n("label",[n("span",[e._v(" Số CMTND / CCCD: ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.identification,expression:"identification"}],attrs:{type:"text"},domProps:{value:e.identification},on:{input:function(t){t.target.composing||(e.identification=t.target.value)}}})]),n("label",[n("span",[e._v(" Địa chỉ: ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.address,expression:"address"}],attrs:{type:"text"},domProps:{value:e.address},on:{input:function(t){t.target.composing||(e.address=t.target.value)}}})]),n("label",[n("span",[e._v(" Tài khoản: ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],attrs:{type:"text"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}})]),n("label",[n("span",[e._v(" Mật khẩu: ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"text"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),n("label",[n("span",[e._v(" Chức vụ: ")]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.level,expression:"level"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.level=t.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"0"}},[e._v("Nhân viên")]),n("option",{attrs:{value:"1"}},[e._v("Quản lý")])])]),n("button",{on:{click:function(t){return t.preventDefault(),e.submitData(t)}}},[e._v(" Tạo thông tin khách hàng ")])])]),n("div",[n("button",{on:{click:e.clickSave}},[e._v("Save Change")]),n("button",{on:{click:e.clickReset}},[e._v("Reset")]),n("button",{on:{click:e.clickDelete}},[e._v("Delete")])]),n("div",{staticStyle:{width:"800px"}},[n("vue-table-dynamic",{ref:"table",attrs:{params:e.table},on:{"cell-change":e.onCellChange}})],1)])},O=[],N={name:"Employee",props:["title"],data:function(){return{name:"",phone:"",dateofbirth:"",identification:"",address:"",username:"",password:"",level:0,employee:null,header:["STT","Họ và tên","Ngày sinh","Số điện thoại","CMND / CCCD","Địa chỉ","Tài khoản"],keys:["name","dateofbirth","phone","identification","address","username"],table:{data:[],header:"row",border:!0,stripe:!0,showCheck:!0,enableSearch:!0,pagination:!0,pageSize:10,pageSizes:[10,20,50],edit:{column:[1,2,3]}},change:{}}},created:function(){var e=this;v()({method:"post",url:"http://localhost:1503/get/nhan-vien"}).then((function(t){console.log(t),e.employee=t.data}))},methods:{submitData:function(){var e=this;v()({method:"post",url:"http://localhost:1503/create/nhan-vien",headers:{"Access-Control-Allow-Origin":"*"},data:{name:encodeURI(this.name),dateofbirth:encodeURI(this.dateofbirth),phone:encodeURI(this.phone),identification:encodeURI(this.identification),address:encodeURI(this.address),username:encodeURI(this.username),password:encodeURI(this.password),level:this.level}}).then((function(t){console.log(t),e.employee.push(t.data),e.name="",e.phone="",e.dateofbirth="",e.identification="",e.username="",e.password="",e.level=0})).catch((function(e){console.log(e)}))},onCellChange:function(e,t,n){this.change[e]=Object.assign({},this.employee[e-1]),this.change[e][this.keys[t-1]]=n},clickSave:function(){var e=this;f["a"].each(this.change,(function(e,t){v()({method:"post",url:"http://localhost:1503/edit/nhan-vien",headers:{"Access-Control-Allow-Origin":"*"},data:j(e)}).then((function(){})).catch((function(e){console.log(e)})).finally((function(){t()}))}),(function(t){console.log(t),e.change={}}))},clickReset:function(){var e=(this.employee||[]).map((function(e,t){return[t+1,decodeURI(e.name),decodeURI(e.dateofbirth),decodeURI(e.phone),decodeURI(e.identification),decodeURI(e.address),decodeURI(e.username)]}));this.table.data=[this.header].concat(Object(p["a"])(e)),this.index={}},clickDelete:function(){var e=this;console.log("delete",this.$refs.table.getCheckedRowDatas(!0));var t=this.employee;f["a"].eachOf(this.$refs.table.getCheckedRowDatas(!0),(function(e,n,o){if(0==n)return o();v()({method:"post",url:"http://localhost:1503/delete/nhan-vien",headers:{"Access-Control-Allow-Origin":"*"},data:{id:t[e[0]-1].id}}).then((function(){})).catch((function(e){console.log(e)})).finally((function(){o()}))}),(function(){e.change={},v()({method:"post",url:"http://localhost:1503/get/nhan-vien"}).then((function(t){console.log(t),e.employee=t.data}))}))}},watch:{employee:function(){var e=(this.employee||[]).map((function(e,t){return[t+1,decodeURI(e.name),decodeURI(e.dateofbirth),decodeURI(e.phone),decodeURI(e.identification),decodeURI(e.address),decodeURI(e.username)]}));this.table.data=[this.header].concat(Object(p["a"])(e))}}};function j(e){for(var t=Object.assign({},e),n=0,o=Object.keys(t);n<o.length;n++){var a=o[n];"listResult"!==a&&(t[a]=encodeURI(t[a]))}return t}var D=N,T=Object(r["a"])(D,x,O,!1,null,null,null),A=T.exports,$=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v(" "+e._s(e.title)+" "),n("form",[n("label",[n("span",[e._v(" Tên nhà cung cấp: ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],attrs:{type:"text"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}})]),n("label",[n("span",[e._v(" Số điện thoại: ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.phone,expression:"phone"}],attrs:{type:"text"},domProps:{value:e.phone},on:{input:function(t){t.target.composing||(e.phone=t.target.value)}}})]),n("label",[n("span",[e._v(" Địa chỉ: ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.address,expression:"address"}],attrs:{type:"text"},domProps:{value:e.address},on:{input:function(t){t.target.composing||(e.address=t.target.value)}}})]),n("label",[n("span",[e._v(" Chi tiết: ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.description,expression:"description"}],attrs:{type:"text"},domProps:{value:e.description},on:{input:function(t){t.target.composing||(e.description=t.target.value)}}})]),n("button",{on:{click:function(t){return t.preventDefault(),e.submitData(t)}}},[e._v(" Tạo thông tin nhà cung cấp ")])]),n("div",[n("button",{on:{click:e.clickSave}},[e._v("Save Change")]),n("button",{on:{click:e.clickReset}},[e._v("Reset")]),n("button",{on:{click:e.clickDelete}},[e._v("Delete")])]),n("div",{staticStyle:{width:"800px"}},[n("vue-table-dynamic",{ref:"table",attrs:{params:e.table},on:{"cell-change":e.onCellChange}})],1)])},E=[],q={name:"Product",props:["title"],data:function(){return{name:"",phone:"",address:"",description:"",employees:[],provider:null,header:["STT","Họ và tên","Số điện thoại","Địa chỉ","Chi tiết","Nhân viên"],keys:["name","phone","address","description"],table:{data:[],header:"row",border:!0,stripe:!0,showCheck:!0,enableSearch:!0,pagination:!0,pageSize:10,pageSizes:[10,20,50],edit:{column:[1,2,3,4]}},change:{}}},created:function(){var e=this;v()({method:"post",url:"http://localhost:1503/get/nhan-vien"}).then((function(t){console.log(t),e.employees=t.data,v()({method:"post",url:"http://localhost:1503/get/cung-cap"}).then((function(t){console.log(t),e.provider=t.data}))}))},methods:{submitData:function(){var e=this;v()({method:"post",url:"http://localhost:1503/create/cung-cap",headers:{"Access-Control-Allow-Origin":"*"},data:{name:encodeURI(this.name),phone:encodeURI(this.phone),address:encodeURI(this.address),description:encodeURI(this.description),idEmployee:this.$store.state.id}}).then((function(t){console.log(t),e.provider.push(t.data),e.name="",e.phone="",e.address="",e.description=""})).catch((function(e){console.log(e)}))},onCellChange:function(e,t,n){this.change[e]=Object.assign({},this.provider[e-1]),this.change[e][this.keys[t-1]]=n},clickSave:function(){var e=this;f["a"].each(this.change,(function(e,t){v()({method:"post",url:"http://localhost:1503/edit/cung-cap",headers:{"Access-Control-Allow-Origin":"*"},data:L(e)}).then((function(){})).catch((function(e){console.log(e)})).finally((function(){t()}))}),(function(t){console.log(t),e.change={}}))},clickReset:function(){var e=this,t=(this.provider||[]).map((function(t,n){var o=(e.employees||[]).find((function(e){return e.id==t.idEmployee}));return console.log(o),[n+1,decodeURI(t.name),decodeURI(t.phone),decodeURI(t.address),decodeURI(t.description),decodeURI((o||{}).name||t.idEmployee)]}));this.table.data=[this.header].concat(Object(p["a"])(t)),this.index={}},clickDelete:function(){var e=this;console.log("delete",this.$refs.table.getCheckedRowDatas(!0));var t=this.provider;f["a"].eachOf(this.$refs.table.getCheckedRowDatas(!0),(function(e,n,o){if(0==n)return o();v()({method:"post",url:"http://localhost:1503/delete/cung-cap",headers:{"Access-Control-Allow-Origin":"*"},data:{id:t[e[0]-1].id}}).then((function(){})).catch((function(e){console.log(e)})).finally((function(){o()}))}),(function(){e.change={},v()({method:"post",url:"http://localhost:1503/get/cung-cap"}).then((function(t){console.log(t),e.provider=t.data}))}))}},watch:{provider:function(){var e=this,t=(this.provider||[]).map((function(t,n){var o=(e.employees||[]).find((function(e){return e.id==t.idEmployee}));return console.log(o),[n+1,decodeURI(t.name),decodeURI(t.phone),decodeURI(t.address),decodeURI(t.description),decodeURI((o||{}).name||t.idEmployee)]}));this.table.data=[this.header].concat(Object(p["a"])(t))}}};function L(e){for(var t=Object.assign({},e),n=0,o=Object.keys(t);n<o.length;n++){var a=o[n];"listResult"!==a&&"updateat"!==a&&"createat"!==a&&(t[a]=encodeURI(t[a]))}return t}var M=q,z=Object(r["a"])(M,$,E,!1,null,null,null),G=z.exports,H=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v(" "+e._s(e.title)+" "),n("div",[e._v(" Khách hàng: "),n("div",{staticStyle:{position:"relative"}},[e.selected?n("div",{on:{click:function(t){return e.resetInput("customer")}}},[e._v(" "+e._s(decodeURI(e.selected.name))+" ")]):n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.search,expression:"search",modifiers:{trim:!0}}],ref:"input",attrs:{type:"text"},domProps:{value:e.search},on:{focus:function(t){e.optionsShown=!0,e.optionsShownProduct=!1},keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onEnter("customer")},input:function(t){t.target.composing||(e.search=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e.optionsShown?n("div",{staticStyle:{height:"100px",overflow:"auto",position:"absolute"}},e._l(e.listCustomer,(function(t){return n("div",{key:t.id,on:{click:function(n){return e.onSelect(t)}}},[e._v(" "+e._s(decodeURI(t.name))+" - "+e._s(decodeURI(t.phone))+" ")])})),0):e._e(),e.selected?n("div",[e._v(" "+e._s(decodeURI(e.selected.name))+" "+e._s(decodeURI(e.selected.phone))+" "+e._s(decodeURI(e.selected.address))+" ")]):e._e()])]),n("div",[e._v(" Sản phẩm: "),n("button",{on:{click:e.addProduct}},[e._v(" Thêm sản phẩm ")]),e._v(" Tổng tiền: "+e._s(e.totalPrice)+" "),n("div",[e.selectedProduct?n("div",{on:{click:function(t){return e.resetInput("product")}}},[e._v(" "+e._s(decodeURI(e.selectedProduct.name))+" ")]):n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.searchProduct,expression:"searchProduct",modifiers:{trim:!0}}],ref:"inputProduct",attrs:{type:"text"},domProps:{value:e.searchProduct},on:{focus:function(t){e.optionsShownProduct=!0,e.optionsShown=!1},keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onEnter("product")},input:function(t){t.target.composing||(e.searchProduct=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e.optionsShownProduct?n("div",{staticStyle:{height:"100px",overflow:"auto",position:"absolute"}},e._l(e.listProduct,(function(t){return n("div",{key:t.id,on:{click:function(n){return e.onSelectProduct(t)}}},[e._v(" "+e._s(decodeURI(t.name))+" - "+e._s(t.id)+" ")])})),0):e._e()]),n("div",e._l(e.inCart,(function(t,o){return n("div",{key:o},[e._v(" Tên: "+e._s(t.name)+" Id: "+e._s(t.id)+" Giá "+e._s(t.price)+" Số lượng: "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.number,expression:"item.number"}],attrs:{type:"text"},domProps:{value:t.number},on:{input:function(n){n.target.composing||e.$set(t,"number",n.target.value)}}}),e._v(" Mô tả: "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.detail,expression:"item.detail"}],attrs:{type:"text"},domProps:{value:t.detail},on:{input:function(n){n.target.composing||e.$set(t,"detail",n.target.value)}}}),n("div",{on:{click:function(t){return e.deleteCart(o)}}},[e._v(" X ")])])})),0)]),n("div",{on:{click:e.onPayment}},[e._v(" Thanh toán ")])])},K=[],J=(n("4de4"),n("4160"),n("caad"),n("a434"),n("a9e3"),n("25eb"),n("ac1f"),n("25f0"),n("2532"),n("841c"),n("159b"),{name:"Transaction",props:["title"],data:function(){return{search:"",searchProduct:"",customers:null,products:null,selected:null,optionsShown:!1,selectedProduct:null,optionsShownProduct:!1,inCart:[]}},created:function(){var e=this;v()({method:"post",url:"http://localhost:1503/get/khach-hang"}).then((function(t){console.log(t),e.customers=t.data})),v()({method:"post",url:"http://localhost:1503/get/san-pham"}).then((function(t){console.log(t),e.products=t.data}))},methods:{onSelect:function(e){this.selected=e,this.optionsShown=!1},resetInput:function(e){var t=this;"customer"===e&&(this.selected=null,this.optionsShown=!0,this.$nextTick((function(){return t.$refs.input.focus()}))),"product"===e&&(this.selectedProduct=null,this.optionsShownProduct=!0,this.$nextTick((function(){return t.$refs.inputProduct.focus()})))},onEnter:function(e){"customer"===e&&(this.selected=this.listCustomer?this.listCustomer[0]:null,this.optionsShown=!1),"product"===e&&(this.selectedProduct=this.listProduct?this.listProduct[0]:null,this.optionsShownProduct=!1)},onSelectProduct:function(e){this.selectedProduct=e,this.optionsShownProduct=!1},addProduct:function(){null!=this.selectedProduct&&(this.inCart.push(Object.assign({},this.selectedProduct)),this.selectedProduct=null,this.searchProduct="")},onPayment:function(){var e=this;v()({method:"post",url:"http://localhost:1503/create/giao-dich",headers:{"Access-Control-Allow-Origin":"*"},data:{idCustomer:(this.selected||{}).id,idEmployee:this.$store.state.id}}).then((function(t){var n=t.data;f["a"].each(e.inCart,(function(e,t){v()({method:"post",url:"http://localhost:1503/create/giao-dich/chi-tiet",headers:{"Access-Control-Allow-Origin":"*"},data:{idTransaction:n.id,idProduct:e.id,quantily:e.number,price:e.price,total:Number.parseInt(e.number)*Number.parseInt(e.price)}}).finally((function(){t()}))}),(function(e){console.log("pay thành cồng")}))}))},deleteCart:function(e){this.inCart.splice(e,1)}},computed:{listCustomer:function(){var e=this;return this.search&&this.search.length?this.customers.filter((function(t){return decodeURI(t.name.toLowerCase()).includes(e.search.toLowerCase())||decodeURI(t.phone.toLowerCase()).includes(e.search.toLowerCase())})):this.customers},listProduct:function(){var e=this;return this.searchProduct&&this.searchProduct.length?this.products.filter((function(t){return decodeURI(t.name.toLowerCase()).includes(e.searchProduct.toLowerCase())||decodeURI(t.id.toString().toLowerCase()).includes(e.searchProduct.toLowerCase())})):this.products},totalPrice:function(){var e=0;return this.inCart.forEach((function(t){isNaN(Number.parseInt(t.number))||(e+=Number.parseInt(t.number)*Number.parseInt(t.price))})),e}}}),Q=J,X=Object(r["a"])(Q,H,K,!1,null,null,null),B=X.exports,F=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v(" "+e._s(e.title)+" "),n("div",{staticStyle:{width:"800px"}},[n("vue-table-dynamic",{ref:"table",attrs:{params:e.table}})],1)])},V=[],W={name:"TransactionDetail",props:["title"],data:function(){return{products:null,customers:null,transactions:null,details:null,dataTable:null,header:["STT","ID Giao dịch","Khách hàng","Sản phẩm","Số lượng","Tổng"],table:{data:[],header:"row",border:!0,stripe:!0,showCheck:!0,enableSearch:!0,pagination:!0,pageSize:10,pageSizes:[10,20,50]}}},created:function(){var e=this;v()({method:"post",url:"http://localhost:1503/get/giao-dich/chi-tiet"}).then((function(t){console.log(t),e.products=t.data.productsModels,e.customers=t.data.customersModels,e.transactions=t.data.transactionsModels,e.details=t.data.transactionsDetailsModels;var n=e.details.map((function(t,n){t.product=e.products.find((function(e){return e.id===t.idProduct}));var o=e.transactions.find((function(e){return e.id===t.idTransaction}));return t.customer=e.customers.find((function(e){return e.id==o.idCustomer})),[n+1,t.idTransaction,decodeURI(t.customer.name),decodeURI(t.product.name),decodeURI(t.quantily),decodeURI(t.total)]}));e.table.data=[e.header].concat(Object(p["a"])(n))}))},methods:{},watch:{product:function(){var e=this,t=(this.product||[]).map((function(t,n){var o=(e.providers||[]).find((function(e){return e.id==t.idProvider}));return console.log(o),[n+1,decodeURI(t.name),decodeURI(t.price),decodeURI(t.quantily),decodeURI(t.description),decodeURI((o||{}).name||t.idProvider)]}));this.table.data=[this.header].concat(Object(p["a"])(t))}}},Y=W,Z=Object(r["a"])(Y,F,V,!1,null,null,null),ee=Z.exports,te=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v(" Đăng nhập "),n("div",[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],attrs:{type:"text",name:"username"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}})]),n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",name:"password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})])]),n("button",{on:{click:e.login}},[e._v(" Đăng nhập ")])])},ne=[],oe={name:"Login",props:["title"],data:function(){return{username:"",password:""}},methods:{login:function(){var e=this;v()({method:"POST",url:"http://localhost:1503/dangnhap",data:{username:this.username,password:this.password}}).then((function(t){console.log(t),200==t.data.code?(e.$store.commit("acceptLogin"),e.$store.commit("setId",t.data.status),e.$router.push({path:"/san-pham"})):e.password=""}))}}},ae=oe,ie=Object(r["a"])(ae,te,ne,!1,null,null,null),re=ie.exports,ce=n("2f62");o["a"].use(ce["a"]);var se=new ce["a"].Store({state:{login:!1,id:-1},mutations:{acceptLogin:function(e){e.login=!0},rejectLogin:function(e){e.login=!1},setId:function(e,t){e.id=t}},actions:{rejectLogin:function(e){v()({method:"POST",url:"http://localhost:1503/dangxuat"}).then((function(t){e.commit("rejectLogin")}))}},modules:{}});o["a"].use(d["a"]);var le=[{path:"/san-pham",name:"Product",component:w,props:{title:"Sản phẩm"},meta:{requireAuth:!0}},{path:"/khach-hang",name:"Customer",component:S,props:{title:"Khách hàng"},meta:{requireAuth:!0}},{path:"/tao-giao-dich",name:"Transaction",component:B,props:{title:"Giao dịch"},meta:{requireAuth:!0}},{path:"/cung-cap",name:"Provider",component:G,props:{title:"Nhà cung cấp"},meta:{requireAuth:!0}},{path:"/nhan-vien",name:"Employee",component:A,props:{title:"Nhân viên"},meta:{requireAuth:!0}},{path:"/giao-dich",name:"Details",component:ee,props:{title:"Chi tiết giao dịch"},meta:{requireAuth:!0}},{path:"/dang-nhap",name:"Login",component:re,props:{title:"Đăng nhập"}},{path:"/",name:"Login",component:re,props:{title:"Đăng nhập"},beforeEnter:function(e,t,n){if(se.state.login)return n({path:"/san-pham"});n()}}],de=new d["a"]({mode:"history",base:"/",routes:le});de.beforeEach((function(e,t,n){return se.state.login?n():e.meta.requireAuth?n({path:"/dang-nhap"}):void n()}));var ue=de,he=n("b040"),pe=n.n(he);o["a"].config.productionTip=!1,o["a"].use(pe.a),new o["a"]({router:ue,store:se,render:function(e){return e(l)}}).$mount("#app")},"85ec":function(e,t,n){}});
//# sourceMappingURL=app.3d242805.js.map